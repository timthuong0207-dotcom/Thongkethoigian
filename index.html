<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Thống kê thời gian sự kiện</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #9f9aff, #c4e5fa);
            font-family: 'Dancing Script', cursive;
            color: #fff;
            text-align: center;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        input,
        button {
            padding: 10px;
            margin: 10px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
        }

        button {
            background: #ff5f7e;
            color: #fff;
            cursor: pointer;
        }

        button:hover {
            background: #ff2e63;
        }

        #result {
            margin-top: 30px;
            font-size: 1.8em;
        }

        .number {
            font-weight: bold;
            font-size: 2em;
        }
    </style>
</head>

<body>
    <h1>Thống kê thời gian từ sự kiện</h1>
    <label>Nhập ngày sự kiện:</label>
    <input type="date" id="eventDate">
    <button onclick="startCounter()">Bắt đầu</button>

    <div id="result"></div>

    <script>
        let timer;

        function startCounter() {
            const input = document.getElementById("eventDate").value;
            if (!input) { alert("Vui lòng nhập ngày!"); return; }
            const eventDate = new Date(input);

            clearInterval(timer);

            timer = setInterval(() => {
                const now = new Date();

                // Tính chênh lệch chính xác
                let years = now.getFullYear() - eventDate.getFullYear();
                let months = now.getMonth() - eventDate.getMonth();
                let days = now.getDate() - eventDate.getDate();
                let hours = now.getHours() - eventDate.getHours();
                let minutes = now.getMinutes() - eventDate.getMinutes();
                let seconds = now.getSeconds() - eventDate.getSeconds();

                // Điều chỉnh nếu số âm
                if (seconds < 0) { seconds += 60; minutes--; }
                if (minutes < 0) { minutes += 60; hours--; }
                if (hours < 0) { hours += 24; days--; }
                if (days < 0) {
                    // lấy số ngày của tháng trước
                    let prevMonth = new Date(now.getFullYear(), now.getMonth(), 0).getDate();
                    days += prevMonth; months--;
                }
                if (months < 0) { months += 12; years--; }

                // Tuần = ngày / 7 (tương đối)
                let totalDays = Math.floor((now - eventDate) / (1000 * 60 * 60 * 24));
                let weeks = Math.floor(totalDays / 7);

                document.getElementById("result").innerHTML = `
          Thời gian từ lúc xảy ra sự kiện tới hiện tại là:<br>
          <span class="number">${seconds}</span> giây 
          <span class="number">${minutes}</span> phút 
          <span class="number">${hours}</span> tiếng 
          <span class="number">${days}</span> ngày 
          <span class="number">${weeks}</span> tuần 
          <span class="number">${months}</span> tháng 
          <span class="number">${years}</span> năm
        `;
            }, 1000);
        }
    </script>
</body>

</html>
